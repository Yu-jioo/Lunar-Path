<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upper - Abyssal Path</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        :root {
            --abyssal-deep: #000814;
            --midnight-ocean: #001d3d;
            --abyssal-blue: #003566;
            --deep-current: #00509d;
            --lumen-accent: #48cae4;
            --crystal-foam: #90e0ef;
            --glass: rgba(72, 202, 228, 0.1);
            --glass-border: rgba(72, 202, 228, 0.2);
            --bg-gradient: linear-gradient(135deg, var(--abyssal-deep), var(--midnight-ocean));
            --border-radius: 16px;
            --transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            min-height: 100vh;
            background: var(--bg-gradient);
            color: var(--crystal-foam);
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
        }

        .logo-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
            margin-bottom: 2rem;
        }

.logo-icon {
    position: relative;
    font-family: 'Inter', sans-serif;
    font-weight: 800;
    font-size: 2.2rem;
    color: transparent;
    background: linear-gradient(
        145deg,
        var(--crystal-foam) 30%,
        var(--lumen-accent) 70%
    );
    -webkit-background-clip: text;
    background-clip: text;
    text-shadow: 0 0 12px rgba(72, 202, 228, 0.3);
    transform: translateY(2px);
    z-index: 2;
}

.logo-icon::after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
    width: 60%;
    height: 3px;
    background: var(--lumen-accent);
    border-radius: 2px;
    filter: drop-shadow(0 0 4px var(--lumen-accent));
    opacity: 0.8;
    animation: pulseLine 3s ease-in-out infinite;
}

@keyframes pulseLine {
    0%, 100% { width: 60%; opacity: 0.8; }
    50% { width: 80%; opacity: 0.4; }
}

        .site-title {
            font-size: 2.2rem;
            background: linear-gradient(45deg, var(--crystal-foam), var(--lumen-accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
            letter-spacing: -0.03em;
        }

        .user-count {
            font-size: 1rem;
            opacity: 0.8;
            margin-left: auto;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(0, 53, 102, 0.6);
            padding: 0.5rem 1rem 0.5rem 1.5rem;
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            position: relative;
        }

        .user-count::before {
            content: '';
            position: absolute;
            width: 10px;
            height: 10px;
            background: var(--lumen-accent);
            border-radius: 50%;
            left: 8px;
            top: 50%;
            transform: translateY(-50%);
            animation: pulse 2s infinite;
        }

        .glass {
            background: linear-gradient(135deg, var(--glass), rgba(0, 53, 102, 0.3));
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border-radius: var(--border-radius);
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .btn {
            padding: 1rem 1.5rem;
            border-radius: var(--border-radius);
            font-size: 1rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            cursor: pointer;
            width: 100%;
            justify-content: center;
            background: linear-gradient(135deg, var(--lumen-accent), var(--deep-current));
            color: var(--abyssal-deep);
            border: none;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 24px rgba(72, 202, 228, 0.3);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
            flex: 1;
        }

        .timeline-container {
            padding: 1.5rem;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.75rem;
            margin-top: 1.5rem;
        }

        .day-marker {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(72, 202, 228, 0.05);
            font-size: 0.9rem;
            font-weight: 500;
            margin: 0 auto;
            transition: var(--transition);
            position: relative;
            border: 1px solid transparent;
        }

        .day-marker:hover {
            border-color: var(--lumen-accent);
            transform: scale(1.1);
        }

        .day-marker.today {
            background: var(--lumen-accent);
            color: var(--abyssal-deep);
            box-shadow: 0 0 16px rgba(72, 202, 228, 0.4);
            font-weight: 700;
        }

        .login-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            gap: 2.5rem;
            padding: 2rem;
            text-align: center;
            max-width: 480px;
            margin: 0 auto;
            animation: fadeIn 1s ease-out;
        }

        input {
            padding: 1rem 1.5rem;
            border-radius: var(--border-radius);
            font-size: 1rem;
            background: rgba(0, 53, 102, 0.6);
            color: var(--crystal-foam);
            border: 1px solid var(--glass-border);
            width: 100%;
            transition: var(--transition);
        }

        input:focus {
            border-color: var(--lumen-accent);
            box-shadow: 0 0 0 3px rgba(72, 202, 228, 0.2);
            outline: none;
        }

        .quote-container {
            margin-top: 2rem;
            padding: 1.5rem;
            text-align: center;
            font-style: italic;
            opacity: 0.8;
            border-top: 1px solid var(--glass-border);
        }

        .social-links {
            margin-top: auto;
            padding: 2rem 0;
            display: flex;
            justify-content: center;
            gap: 1.5rem;
        }

        .social-link {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(72, 202, 228, 0.1);
            border: 1px solid var(--glass-border);
            transition: var(--transition);
            color: var(--crystal-foam);
            text-decoration: none;
        }

        .social-link:hover {
            background: var(--lumen-accent);
            color: var(--abyssal-deep);
            transform: translateY(-2px);
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        @keyframes pulse {
            0% {
                transform: translateY(-50%) scale(0.95);
                box-shadow: 0 0 0 0 rgba(72, 202, 228, 0.7);
            }
            70% {
                transform: translateY(-50%) scale(1);
                box-shadow: 0 0 0 10px rgba(72, 202, 228, 0);
            }
            100% {
                transform: translateY(-50%) scale(0.95);
                box-shadow: 0 0 0 0 rgba(72, 202, 228, 0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 600px) {
            body {
                padding: 1rem;
            }
            
            .logo {
                width: 48px;
                height: 48px;
            }
            
            .site-title {
                font-size: 1.8rem;
            }
            
            .day-marker {
                width: 36px;
                height: 36px;
            }

            .user-count {
                font-size: 0.9rem;
                padding: 0.4rem 0.8rem 0.4rem 1.2rem;
            }

            .social-links {
                gap: 1rem;
                padding: 1.5rem 0;
            }
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div class="login-screen" id="loginScreen">
        <div class="logo-header">
            <div class="logo">
                <span class="logo-icon">âˆš</span>
            </div>
            <div class="site-title">Upper</div>
        </div>
        <p style="max-width: 400px; opacity: 0.8; font-size: 1.1rem;">Begin your journey</p>
        <input type="text" id="username" placeholder="Enter your name" autocomplete="off" autofocus>
        <button class="btn glass" id="beginBtn" style="margin-top: 1rem;">
            <span class="material-icons">waves</span>
            Begin
        </button>
        <div class="quote-container" id="dailyQuote">
            "The ocean's depth reveals what the surface never knows"
        </div>
    </div>

    <!-- Main Application -->
    <main id="mainApp" style="display: none;">
        <!-- Header -->
        <div class="logo-header">
            <div class="logo">
                <span class="logo-icon">âˆš</span>
            </div>
            <div class="site-title">Upper</div>
            <div class="user-count" id="userCount">400+ Seekers</div>
        </div>

        <!-- Dashboard -->
        <div class="container">
            <div class="grid">
                <!-- Main Content -->
                <div>
                    <!-- Header -->
                    <div class="glass" style="padding: 1.75rem; margin-bottom: 1.5rem;">
                        <h2 id="welcomeMessage" style="margin-bottom: 0.5rem;"></h2>
                        <div style="margin-top: 1.25rem;">
                            <button class="btn" id="setDateBtn">
                                <span class="material-icons">schedule</span>
                                Deadline
                            </button>
                        </div>
                    </div>

                    <!-- Timeline -->
                    <div class="glass timeline-container">
                        <h3 style="margin-bottom: 0.5rem;">Timeline</h3>
                        <p style="opacity: 0.8; font-size: 0.95rem; margin-bottom: 1rem;" id="timelineDescription">
                            Your voyage begins at the surface. Each circle represents a depth level.
                        </p>
                        <div class="calendar-grid" id="timeline"></div>
                    </div>

                    <!-- Quote -->
                    <div class="quote-container glass" id="appQuote">
                        "In the deep, time moves differently - measure your progress by depth, not days"
                    </div>
                </div>
            </div>
        </div>

        <!-- Social Links -->
        <div class="social-links">
            <a href="https://youtube.com/@moaznou?si=YfOI3v1Jeu0MV4QC" class="social-link" target="_blank" aria-label="YouTube Channel">
                <span class="material-icons">play_arrow</span>
            </a>
            <a href="https://t.me/Master3rdSecondary" class="social-link" target="_blank" aria-label="Telegram Channel">
                <span class="material-icons">send</span>
            </a>
        </div>
    </main>

    <script>
        class AbyssalVoyager {
            static user = {
                name: '',
                targetDate: null,
                lastActiveDate: null
            };

            static quotes = [
                "The ocean's depth reveals what the surface never knows",
                "Pressure creates diamonds in the deep",
                "Currents may push, but depth persists",
                "In the abyss, light becomes bioluminescence",
                "The trench holds secrets the shallows fear to know",
                "Salinity preserves what time forgets",
                "Each fathom descended is a lesson learned",
                "The midnight zone reveals true illumination",
                "Hydrothermal vents forge resilience in darkness",
                "Bathypelagic wisdom surfaces in unexpected ways"
            ];

            static init() {
                this.setupEventListeners();
                this.loadData();
                if (this.user.name) this.showPath();
                this.updateUserCountDisplay();
                this.displayRandomQuote();
                document.getElementById('username').focus();
            }

            static setupEventListeners() {
                document.getElementById('beginBtn').addEventListener('click', () => this.beginJourney());
                document.getElementById('setDateBtn').addEventListener('click', () => this.setTargetDate());
                document.getElementById('username').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.beginJourney();
                });
            }

            static loadData() {
                const data = localStorage.getItem('abyssalPath');
                if (data) {
                    try {
                        const saved = JSON.parse(data);
                        this.user.name = saved.name || '';
                        this.user.targetDate = saved.targetDate ? new Date(saved.targetDate) : null;
                        this.user.lastActiveDate = saved.lastActiveDate ? new Date(saved.lastActiveDate) : null;
                    } catch (e) {
                        console.error("Failed to load data", e);
                    }
                }
            }

            static saveData() {
                this.user.lastActiveDate = new Date();
                localStorage.setItem('abyssalPath', JSON.stringify({
                    ...this.user,
                    targetDate: this.user.targetDate?.toISOString(),
                    lastActiveDate: this.user.lastActiveDate.toISOString()
                }));
            }

            static beginJourney() {
                const name = document.getElementById('username').value.trim();
                if (name) {
                    this.user.name = name;
                    this.incrementUserCount();
                    this.showPath();
                    this.saveData();
                } else {
                    document.getElementById('username').focus();
                }
            }

            static incrementUserCount() {
                let count = parseInt(localStorage.getItem('userCount')) || 400;
                count += 1;
                localStorage.setItem('userCount', count);
                this.updateUserCountDisplay();
            }

            static updateUserCountDisplay() {
                const count = parseInt(localStorage.getItem('userCount')) || 400;
                document.getElementById('userCount').textContent = `${count}+ Seekers`;
            }

            static showPath() {
                document.getElementById('loginScreen').style.display = 'none';
                document.getElementById('mainApp').style.display = 'block';
                document.getElementById('welcomeMessage').textContent = `${this.user.name}'s Journey`;
                this.updateTimeline();
            }

            static setTargetDate() {
                const picker = document.createElement('input');
                picker.type = 'date';
                picker.min = new Date().toISOString().split('T')[0];
                picker.onchange = (e) => {
                    this.user.targetDate = new Date(e.target.value);
                    this.updateTimeline();
                    this.saveData();
                };
                picker.showPicker();
            }

            static updateTimeline() {
                if (!this.user.targetDate) {
                    document.getElementById('timeline').innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 1rem;">Chart your course to begin</div>';
                    document.getElementById('timelineDescription').textContent = 'The abyss awaits your commitment';
                    return;
                }

                const today = new Date();
                today.setHours(0, 0, 0, 0);
                const target = new Date(this.user.targetDate);
                target.setHours(0, 0, 0, 0);
                
                if (target < today) {
                    document.getElementById('timeline').innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 1rem;">New depths await - set a new course</div>';
                    document.getElementById('timelineDescription').textContent = 'The trench remembers your journey';
                    return;
                }

                const diffDays = Math.ceil((target - today) / (1000 * 60 * 60 * 24));
                document.getElementById('timelineDescription').textContent = 
                    `${diffDays} Day until your turn comes`;

                this.renderTimeline(diffDays);
            }

            static renderTimeline(days) {
                const timeline = document.getElementById('timeline');
                timeline.innerHTML = '';
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                
                for (let day = 0; day < days; day++) {
                    const date = new Date(today);
                    date.setDate(today.getDate() + day);
                    
                    const dayElement = document.createElement('div');
                    dayElement.className = `day-marker ${day === 0 ? 'today' : ''}`;
                    dayElement.textContent = date.getDate();
                    dayElement.title = `Depth Level: ${day + 1}\n${date.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' })}`;
                    timeline.appendChild(dayElement);
                }

                const remainingCells = 7 - (days % 7);
                if (remainingCells < 7) {
                    for (let i = 0; i < remainingCells; i++) {
                        timeline.appendChild(document.createElement('div')).style.visibility = 'hidden';
                    }
                }
            }

            static displayRandomQuote() {
                const randomIndex = Math.floor(Math.random() * this.quotes.length);
                const quote = this.quotes[randomIndex];
                document.getElementById('appQuote').textContent = quote;
                document.getElementById('dailyQuote').textContent = quote;
            }
        }

        document.addEventListener('DOMContentLoaded', () => AbyssalVoyager.init());
    </script>
</body>
</html>